![image](https://github.com/divychheda/External_Pentest_Playbook/assets/64409788/5225bd87-4ef7-486a-99b7-e3e5ca73ca49)
## Office 365 login portal
- Mainly targeting office 365 cause its used most commonly as it ties in nicely with Active Directory
- Know the lockout policy before beginning.
- Use TREVORspray: https://blog.blacklanternsecurity.com/p/introducing-trevorproxy-and-trevorspray  (for office365)
- Trevorspray warns when accounts are locked out (dont let too many accounts get locked out)
- After that you can attack outlook, onedrive

## OWA (Outlook Web Access) login portal
- Using metasploit, auxiliary/scanner/http/owa_login
- This can also tell which users are valid
- Wont warn if account is getting locked out

## Other portals (non MS)
- Using burpsuite intruder (sniper if you know the email is correct)
- ![image](https://github.com/divychheda/External_Pentest_Playbook/assets/64409788/54aecd76-407e-45f8-a59c-227865f71813)
- Note status codes and length changes to see what worked and what didn't
- If you want to enumerate both email and passwords, we can do
  - pitchfork attack: take first email and try with first passwd, take 2nd email and try with 2nd password etc
  - clusterbomb: take 1st email and try with all passwords and so on

## MFABypass
- Use MFASweep: https://github.com/dafthack/MFASweep
- Sometimes some service like EWS may still be susceptible
- In the example, Heath shows how he used MailSniper: https://github.com/dafthack/MailSniper, to bypass MFA using EWS
